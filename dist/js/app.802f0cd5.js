(function(t){function e(e){for(var s,h,l=e[0],o=e[1],a=e[2],u=0,d=[];u<l.length;u++)h=l[u],Object.prototype.hasOwnProperty.call(n,h)&&n[h]&&d.push(n[h][0]),n[h]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,a||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,l=1;l<i.length;l++){var o=i[l];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=h(h.s=i[0]))}return t}var s={},n={app:0},r=[];function h(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=t,h.c=s,h.d=function(t,e,i){h.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(h.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)h.d(i,s,function(e){return t[e]}.bind(null,s));return i},h.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(e,"a",e),e},h.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var a=0;a<l.length;a++)e(l[a]);var c=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=i("289d"),r=(i("5abe"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container is-fluid"},[i("Game")],1)}),h=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"field"},[i("b-switch",{attrs:{size:"is-large"},model:{value:t.showBorders,callback:function(e){t.showBorders=e},expression:"showBorders"}},[t._v("Show borders")])],1),i("vue-p5",t._g({},{setup:t.setup,draw:t.draw,mouseclicked:t.mouseclicked})),t.canSave?i("b-button",{attrs:{type:"is-info",size:"is-large"},on:{click:t.saveImage}},[t._v(" Save image ")]):t._e(),t.canGenerateMaze?i("b-button",{attrs:{type:"is-dark",size:"is-large"},on:{click:function(e){t.isPlaying=!0}}},[t._v(" Generate maze ")]):t._e(),t.isGenerating?i("p",{staticClass:"subtitle is-4"},[t._v("Generating maze...")]):t._e(),t.canSolve?i("b-button",{attrs:{type:"is-dark",size:"is-large"},on:{click:t.solveWithAStar}},[t._v(" Solve with A* ")]):t._e()],1)},o=[],a=(i("cb29"),i("5530")),c=i("e25d"),u=i.n(c),d=i("d4ec"),f=i("bee2"),v=function(){function t(e,i){Object(d["a"])(this,t),this.f=0,this.g=0,this.h=0,this.i=e,this.j=i,this.walls=[!0,!0,!0,!0],this.visited=!1,this.previous=null}return Object(f["a"])(t,[{key:"draw",value:function(t,e){var i=this.i*e,s=this.j*e,n=this.walls,r=this.visited;t.stroke(255),t.strokeWeight(2),n[0]&&t.line(i,s,i+e,s),n[1]&&t.line(i+e,s,i+e,s+e),n[2]&&t.line(i+e,s+e,i,s+e),n[3]&&t.line(i,s+e,i,s),r&&(t.noStroke(),t.fill(32,64,81,100),t.rect(i,s,e,e))}},{key:"highlight",value:function(t,e){var i=this.i*e,s=this.j*e;t.noStroke(),t.fill(202,232,213,100),t.rect(i,s,e,e)}}]),t}(),p=(i("7db0"),i("c740"),i("a434"),function(){function t(e){Object(d["a"])(this,t),this.closedSet=[],this.openSet=[e]}return Object(f["a"])(t,[{key:"findLowestNode",value:function(){var t=this.openSet.sort((function(t,e){var i=0;return t.f<e.f?i=-1:t.f>e.f&&(i=1),i}));return t[0]}},{key:"removeNode",value:function(t){var e=this.openSet.findIndex((function(e){return e.i===t.i&&e.j===t.j}));this.openSet.splice(e,1)}},{key:"isInClosedSet",value:function(t){return this.closedSet.find((function(e){return e.i===t.i&&e.j===t.j}))}},{key:"isInOpenSet",value:function(t){return this.openSet.find((function(e){return e.i===t.i&&e.j===t.j}))}},{key:"heuristic",value:function(t,e){var i=t.i-t.j,s=e.i-e.j;return Math.sqrt(i*i+s*s)}}]),t}()),g={name:"Game",components:{"vue-p5":u.a},computed:{canGenerateMaze:function(){return!this.isPlaying&&!this.completed},isGenerating:function(){return this.isPlaying&&!this.completed},canSolve:function(){return this.completed&&!this.solved},canSave:function(){return this.solved}},data:function(){return{sketch:null,canvas:null,isPlaying:!1,width:1200,height:600,cols:0,rows:0,w:50,grid:[],current:null,stack:[],completed:!1,solved:!1,end:null,last:null,showBorders:!0}},methods:{setup:function(t){this.sketch=t;var e=this.width,i=this.height;this.canvas=this.sketch.createCanvas(e,i),this.sketch.frameRate(60),this.sketch.textSize(14),this.sketch.textAlign("CENTER","CENTER"),this.cols=Math.floor(e/this.w),this.rows=Math.floor(i/this.w);for(var s=0;s<this.rows;s+=1)for(var n=0;n<this.cols;n+=1)this.grid.push(new v(n,s));this.current=this.grid[0],this.current.visited=!0},index:function(t,e){return t<0||e<0||t>this.cols-1||e>this.rows-1?-1:t+e*this.cols},checkNeighbors:function(t,e){var i=null,s=[],n=e.i,r=e.j,h=this.grid[this.index(n,r-1)],l=this.grid[this.index(n+1,r)],o=this.grid[this.index(n,r+1)],a=this.grid[this.index(n-1,r)];if(h&&!h.visited&&s.push(h),l&&!l.visited&&s.push(l),o&&!o.visited&&s.push(o),a&&!a.visited&&s.push(a),s.length>0){var c=t.floor(t.random(0,s.length));i=s[c]}return i},removeWalls:function(t,e){var i=t.i-e.i;1===i?(t.walls[3]=!1,e.walls[1]=!1):-1===i&&(t.walls[1]=!1,e.walls[3]=!1);var s=t.j-e.j;1===s?(t.walls[0]=!1,e.walls[2]=!1):-1===s&&(t.walls[2]=!1,e.walls[0]=!1)},draw:function(){if(this.sketch.background(32,64,81),this.showBorders)for(var t=0;t<this.grid.length;t+=1)this.grid[t].draw(this.sketch,this.w);if(this.isPlaying){this.current.highlight(this.sketch,this.w);var e=this.checkNeighbors(this.sketch,this.current);e?(this.stack.push(this.current),this.removeWalls(this.current,e),e.visited=!0,this.current=e):this.stack.length>0?this.current=this.stack.pop():(this.completed=!0,this.isPlaying=!1)}if(this.completed&&this.end&&(this.sketch.noStroke(),this.sketch.fill(255,255,255,100),this.sketch.rect(this.end.x*this.w,this.end.y*this.w,this.w,this.w)),this.solved){var i=this.last;this.sketch.fill(255,255,255,100),this.sketch.circle(i.i*this.w+this.w/2,i.j*this.w+this.w/2,this.w/5);while(i.previous)i=i.previous,this.sketch.fill(0,255,0,100),this.sketch.circle(i.i*this.w+this.w/2,i.j*this.w+this.w/2,this.w/5)}},mouseclicked:function(t){var e=t.mouseX,i=t.mouseY,s=Math.floor(e/this.w),n=Math.floor(i/this.w);s>=0&&s<this.cols&&n>=0&&n<this.rows&&(this.end={x:s,y:n},this.solveWithAStar())},solveWithAStar:function(){var t=this.grid[0],e=this.end?{i:this.end.x,j:this.end.y}:this.grid[this.grid.length-1],i=new p(t),s=null;while(i.openSet.length>0){if(s=i.findLowestNode(),s.i===e.i&&s.j===e.j)break;i.removeNode(s),i.closedSet.push(s);var n=s.i,r=s.j,h=r*this.cols+n,l=h-this.cols,o=h+1,c=h+this.cols,u=h-1,d=[];l>=0&&l<=this.grid.length-1&&d.push(Object(a["a"])({},this.grid[l],{hasWall:this.grid[l].walls[2]})),o>=0&&o<=this.grid.length-1&&d.push(Object(a["a"])({},this.grid[o],{hasWall:this.grid[o].walls[3]})),c>=0&&c<=this.grid.length-1&&d.push(Object(a["a"])({},this.grid[c],{hasWall:this.grid[c].walls[0]})),u>=0&&u<=this.grid.length-1&&d.push(Object(a["a"])({},this.grid[u],{hasWall:this.grid[u].walls[1]}));for(var f=0;f<d.length;f+=1){var v=d[f];if(!i.isInClosedSet(v)&&!v.hasWall){var g=s.g+1;i.isInOpenSet(v)?g<v.g&&(v.g=g):(v.g=g,i.openSet.push(v)),v.h=i.heuristic(v,e),v.f=v.g+v.h,v.previous=s}}}this.last=s,this.solved=!0},saveImage:function(){this.sketch.saveCanvas(this.canvas,"maze","jpg")}}},w=g,k=i("2877"),b=Object(k["a"])(w,l,o,!1,null,null,null),m=b.exports,j={name:"App",components:{Game:m}},y=j,S=Object(k["a"])(y,r,h,!1,null,null,null),O=S.exports;s["a"].use(n["a"]),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(O)}}).$mount("#app")}});
//# sourceMappingURL=app.802f0cd5.js.map